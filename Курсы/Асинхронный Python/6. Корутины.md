Это функции которые могут быть остановлены и возобновлены


### Пишем первый асинхронный код. Ключевые слова `async` и `await`.

Для создания корутины нужно использовать ключевое слово `async`.

```python
import asyncio


async def example_coroutine():
    print("Hello from coroutine!")
```



### **Запуск корутины. Функция `asyncio.run()`.**

Мы создали первую корутину `example_coroutine()`. Для ее запуска нужно использовать функцию `asyncio.run()`. Если попытаться запустить корутину, как обычную функцию, выполнение корутины не начнется. Вместо этого будет создан объект корутины. 

```python
#НЕ ПРАВИЛЬНО
async def example_coroutine():
    print("Hello from coroutine!")

example_coroutine()  # создан объект корутины example_coroutine(), корутина не запущена!


#ПРАВИЛЬНО
async def example_coroutine():
    print("Hello from coroutine!")

asyncio.run(example_coroutine())  # корутина example_coroutine() запущена. 
```

### Кооперативная многозадачность.

Корутины поддерживают модель *_кооперативной многозадачности, в отличие от *_вытесняющей многозадачности_, используемой с потоками. Это значит, что корутины сами передают управление обратно в цикл событий. Если корутина явно не передала управление, то она будет выполняться до ее полного завершения. 

[_Кооперативная многозадачность_](https://en.wikipedia.org/wiki/Cooperative_multitasking#:~:text=Cooperative%20multitasking%2C%20also%20known%20as,running%20process%20to%20another%20process.) _— В кооперативной многозадачности задачи сами решают, когда им следует уступить контроль другим задачам. Это означает, что каждая задача должна активно передать управление системе, чтобы другие задачи могли выполняться._

**Аналогия:**  
_Представьте, что у нас есть группа друзей, которые решили вместе сделать проект. Они сидят в одной комнате и работают на одном компьютере. По правилам, только один человек может работать за компьютером в один момент времени. В случае с кооперативной многозадачностью, каждый член группы сам решает, когда ему встать и уступить место за компьютером следующему. Это означает, что если кто-то из них слишком увлечётся и забудет уступить место, остальные не смогут продолжить работу. Это может привести к задержкам в выполнении проекта, потому что никто другой не сможет внести свой вклад, пока этот человек не решит передать очередь._  
 

_Преимущества такого подхода в том, что всё довольно просто организовать. Нам не нужен сложный план или расписание, кто и когда будет работать. Это также снижает нагрузку на "систему" — в нашем случае, не нужно тратить время на решение, кто следующий будет работать за компьютером._

_Однако есть и недостатки. Если кто-то из друзей будет действовать эгоистично и занимать компьютер слишком долго, проект может застопориться. Другие не смогут внести свой вклад, пока он не решит уступить место.  
  
Такой подход часто используется в ситуациях, где ресурсы ограничены (например, когда только один компьютер доступен для группы людей) или в специализированных системах, где очень важно точно знать, сколько времени займёт выполнение каждой задачи, как в системах реального времени, где каждая задержка может привести к серьёзным последствиям._

_************spoil end*************_

***!Вытесняющая многозадачность** (Preemptive Multitasking)

Кооперативная многозадачность осуществляется через корутины с использованием ключевых слов `async/await`. Это позволяет создавать асинхронный код, где корутины/задачи явно указывают моменты своего приостановления и возобновления с помощью `await`.

### Точка входа. Запуск нескольких корутин.

Для запуска корутин и задач из других корутин нужно использовать ключевое слово `await`.

```python
import asyncio


async def example_coroutine():
    await asyncio.sleep(1) 
    print("Hello from coroutine!")

async def main():
    await example_coroutine() # запускаем example_coroutine() и ждем выполнения

asyncio.run(main())  # Точка входа
```
