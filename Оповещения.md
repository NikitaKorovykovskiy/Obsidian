1. Оповещения по адресу происшествия
Различались адреса указанные у пользователя в базе и в событии
```python
addresses = 'ул. Регатная, 4, г. Красноярск'
с = 'Россия, Красноярский край, г. Красноярск, ул. Регатная, 4'
```
Я привел адреса к примерно одному виду: улица, дом, город
Проблема проверки была в том, что адреса могли записываться в таком виде
```python
addresses = 'ул. Регатная, 4, г. Красноярск|||ул. Регатная, 5, г. Красноярск'
```
И проверку по 1 адресу у пользователя и в происшествии сделал так
```python
broadcast_communal_address = broadcast.communal.incident_address
split_addresses = broadcast_communal_address.split("|||")
formatted_addresses = []
for addresses in split_addresses:
	parts = addresses.split(", ")
	formatted_address = f"{parts[3]}, {parts[4]}, {parts[2]}"
	formatted_addresses.append(formatted_address)

query = Q()
for i in formatted_addresses:
	query |= Q(user__addresses__icontains=i)
	
	# Для каждого элемента создается объект `Q` для фильтрации пользователей, чье поле `addresses` содержит этот конкретный адрес. Оператор `|=` используется для выполнения побитовой операции ИЛИ с существующим объектом `query`.
	
active_subscriptions = active_subscriptions.filter(query)
```