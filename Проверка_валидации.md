Проверка правильности заполнения выбранных значений в админке с помощью создания отдельной формы и метода clean()
Есть модель Юзера в которой выведены дополнительные формы из моделей связанные с юзером через many_to_many
```python
@admin.register(User)
class UserAdmin(TrackUserMixin, UserAdminContrib):
inlines = [AdminLkoPermissionsInline, OperatorLkoPermissionsInline] # Это дополнительные поля для отображения в админке. По сути поля из связанных моделей
```

```python
class OperatorLkoPermissionsInline(admin.StackedInline):
model = OperatorLkoPermissions
form = InitiativeCategoryValidateForm #Это моя кастомная форма для валидации
```

```python
class InitiativeCategoryValidateForm(forms.ModelForm):
"""
Выводит сообщения ошибок, если выбранна подкатегория,
у которой есть родитель и родителя нет в выбранных полях категорий
"""
	def clean(self):
		cleaned_data = super().clean()
		initiatives_categories = cleaned_data.get("initiatives_categories", [])
		errors = [ValidationError(
		f"Выберите категорию '{category.parent}' для выбранной подкатегории '{category}' в разделе 'Категория для инициатив'",
		code="invalid_category",
		)
			for category in initiatives_categories
			if category.parent is not None
			and category.parent not in initiatives_categories
]
		for error in errors:
			self.add_error("initiatives_categories", error)
```
